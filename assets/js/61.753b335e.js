(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{227:function(t,n,a){"use strict";a.r(n);var s=a(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"grunt-入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grunt-入门","aria-hidden":"true"}},[t._v("#")]),t._v(" grunt 入门")]),t._v(" "),a("h2",{attrs:{id:"需要做的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要做的","aria-hidden":"true"}},[t._v("#")]),t._v(" 需要做的")]),t._v(" "),a("p",[t._v("确保当前 node 环境及 npm 版本， 安装 grunt-cli。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i -g grunt-cli\n")])])]),a("ul",[a("li",[t._v("创建 package.json")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 已安装 grunt-init")]),t._v("\ngrunt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("init\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 未安装")]),t._v("\nnpm init\nnpm install grunt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\nnpm install grunt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("contrib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jshint "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\nnpm install grunt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("contrib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nodeunit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\nnpm install grunt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("contrib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("uglify "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])])]),a("ul",[a("li",[t._v("创建 Gruntfile.js / Gruntfile.coffee")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("module.exports = function(grunt) {\n\n  // Project configuration.\n  grunt.initConfig({\n    pkg: grunt.file.readJSON('package.json'),\n    uglify: {\n      options: {\n        banner: '/*! <%= pkg.name %> <%= grunt.template.today(\"yyyy-mm-dd\") %> */\\n'\n      },\n      build: {\n        src: 'src/<%= pkg.name %>.js',\n        dest: 'build/<%= pkg.name %>.min.js'\n      }\n    }\n  });\n\n  // 加载包含 \"uglify\" 任务的插件。\n  grunt.loadNpmTasks('grunt-contrib-uglify');\n\n  // 默认被执行的任务列表。\n  grunt.registerTask('default', ['uglify']);\n\n};\n\n")])])]),a("p",[t._v("自定义任务")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("grunt.registerTask('default', 'Log some stuff.', function() {\n      grunt.log.write('Logging some stuff...').ok();\n    }, ['uglify']);\n")])])]),a("h2",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理","aria-hidden":"true"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),a("p",[t._v("grunt-cli 是一个脚手架，他可以将 grunt 配置到全局环境变量中，然后依赖于 nodejs 的 require 方式找到不同目录下的 grunt 执行，\n达到可以在同一台机器上运行不同版本 grunt 的目的。")]),t._v(" "),a("p",[t._v("Gruntfile.js 应该在根目录并且和 package.json 同一层级，package.json 的项目元数据 （metadata） 会导入到 grunt 配置中。\n通过 "),a("code",[t._v("grunt.loadNpmTasks")]),t._v(" 加载插件，很多常用任务封装成为插件，通过配置 "),a("code",[t._v("grunt.initConfig")]),t._v(" 使用，通过 "),a("code",[t._v("grunt.registerTask")]),t._v("\n执行。")])])}],!1,null,null,null);n.default=r.exports}}]);